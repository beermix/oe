From d06c7ebe25c00b11e97889e775bf7130f4593c38 Mon Sep 17 00:00:00 2001
From: Lukas Rusak <lorusak@gmail.com>
Date: Thu, 1 Mar 2018 11:32:21 -0800
Subject: [PATCH] x11/proto: replace proto's with xorgproto

Keep xcb-proto (needed by libxcb).
---
 packages/graphics/mesa/package.mk                  |  2 +-
 packages/multimedia/libvdpau/package.mk            |  2 +-
 packages/x11/driver/xf86-input-evdev/package.mk    |  2 +-
 packages/x11/driver/xf86-video-intel/package.mk    |  2 +-
 packages/x11/lib/libX11/package.mk                 |  2 +-
 packages/x11/lib/libXau/package.mk                 |  2 +-
 packages/x11/lib/libXcomposite/package.mk          |  2 +-
 packages/x11/lib/libXdamage/package.mk             |  2 +-
 packages/x11/lib/libXext/package.mk                |  2 +-
 packages/x11/lib/libXfixes/package.mk              |  2 +-
 packages/x11/lib/libXfont2/package.mk              |  2 +-
 packages/x11/lib/libXi/package.mk                  |  2 +-
 packages/x11/lib/libXinerama/package.mk            |  2 +-
 packages/x11/lib/libXmu/package.mk                 |  2 +-
 packages/x11/lib/libXrandr/package.mk              |  2 +-
 packages/x11/lib/libXrender/package.mk             |  2 +-
 packages/x11/lib/libXtst/package.mk                |  2 +-
 packages/x11/lib/libXxf86vm/package.mk             |  2 +-
 packages/x11/lib/libfontenc/package.mk             |  2 +-
 packages/x11/lib/libxkbfile/package.mk             |  2 +-
 packages/x11/lib/libxshmfence/package.mk           |  2 +-
 packages/x11/proto/bigreqsproto/package.mk         | 32 --------------------
 packages/x11/proto/compositeproto/package.mk       | 32 --------------------
 packages/x11/proto/damageproto/package.mk          | 32 --------------------
 packages/x11/proto/dri2proto/package.mk            | 32 --------------------
 packages/x11/proto/dri3proto/package.mk            | 32 --------------------
 packages/x11/proto/fontcacheproto/package.mk       | 32 --------------------
 packages/x11/proto/fontsproto/package.mk           | 32 --------------------
 packages/x11/proto/glproto/package.mk              | 32 --------------------
 packages/x11/proto/inputproto/package.mk           | 32 --------------------
 packages/x11/proto/kbproto/package.mk              | 32 --------------------
 packages/x11/proto/presentproto/package.mk         | 32 --------------------
 packages/x11/proto/randrproto/package.mk           | 32 --------------------
 packages/x11/proto/recordproto/package.mk          | 32 --------------------
 packages/x11/proto/renderproto/package.mk          | 32 --------------------
 packages/x11/proto/videoproto/package.mk           | 32 --------------------
 packages/x11/proto/xcmiscproto/package.mk          | 32 --------------------
 packages/x11/proto/xextproto/package.mk            | 32 --------------------
 packages/x11/proto/xf86dgaproto/package.mk         | 32 --------------------
 packages/x11/proto/xf86driproto/package.mk         | 32 --------------------
 packages/x11/proto/xf86miscproto/package.mk        | 32 --------------------
 packages/x11/proto/xf86vidmodeproto/package.mk     | 32 --------------------
 packages/x11/proto/xineramaproto/package.mk        | 32 --------------------
 .../x11/proto/{fixesproto => xorgproto}/package.mk | 28 +++++++++---------
 packages/x11/proto/xproto/package.mk               | 34 ----------------------
 packages/x11/xserver/xorg-server/package.mk        |  4 +--
 46 files changed, 38 insertions(+), 774 deletions(-)
 delete mode 100644 packages/x11/proto/bigreqsproto/package.mk
 delete mode 100644 packages/x11/proto/compositeproto/package.mk
 delete mode 100644 packages/x11/proto/damageproto/package.mk
 delete mode 100644 packages/x11/proto/dri2proto/package.mk
 delete mode 100644 packages/x11/proto/dri3proto/package.mk
 delete mode 100644 packages/x11/proto/fontcacheproto/package.mk
 delete mode 100644 packages/x11/proto/fontsproto/package.mk
 delete mode 100644 packages/x11/proto/glproto/package.mk
 delete mode 100644 packages/x11/proto/inputproto/package.mk
 delete mode 100644 packages/x11/proto/kbproto/package.mk
 delete mode 100644 packages/x11/proto/presentproto/package.mk
 delete mode 100644 packages/x11/proto/randrproto/package.mk
 delete mode 100644 packages/x11/proto/recordproto/package.mk
 delete mode 100644 packages/x11/proto/renderproto/package.mk
 delete mode 100644 packages/x11/proto/videoproto/package.mk
 delete mode 100644 packages/x11/proto/xcmiscproto/package.mk
 delete mode 100644 packages/x11/proto/xextproto/package.mk
 delete mode 100644 packages/x11/proto/xf86dgaproto/package.mk
 delete mode 100644 packages/x11/proto/xf86driproto/package.mk
 delete mode 100644 packages/x11/proto/xf86miscproto/package.mk
 delete mode 100644 packages/x11/proto/xf86vidmodeproto/package.mk
 delete mode 100644 packages/x11/proto/xineramaproto/package.mk
 rename packages/x11/proto/{fixesproto => xorgproto}/package.mk (50%)
 delete mode 100644 packages/x11/proto/xproto/package.mk

diff --git a/packages/graphics/mesa/package.mk b/packages/graphics/mesa/package.mk
index ad93de93be7..e263a415f60 100644
--- a/packages/graphics/mesa/package.mk
+++ b/packages/graphics/mesa/package.mk
@@ -30,7 +30,7 @@ PKG_LONGDESC="Mesa is a 3-D graphics library with an API which is very similar t
 PKG_TOOLCHAIN="autotools"
 
 if [ "$DISPLAYSERVER" = "x11" ]; then
-  PKG_DEPENDS_TARGET="$PKG_DEPENDS_TARGET glproto dri2proto presentproto libXext libXdamage libXfixes libXxf86vm libxcb libX11 dri3proto libxshmfence"
+  PKG_DEPENDS_TARGET="$PKG_DEPENDS_TARGET xorgproto libXext libXdamage libXfixes libXxf86vm libxcb libX11 libxshmfence"
   export DRI_DRIVER_INSTALL_DIR=$XORG_PATH_DRI
   export DRI_DRIVER_SEARCH_DIR=$XORG_PATH_DRI
   export X11_INCLUDES=
diff --git a/packages/multimedia/libvdpau/package.mk b/packages/multimedia/libvdpau/package.mk
index f0aa1fa2f50..87a5f7bf3ec 100644
--- a/packages/multimedia/libvdpau/package.mk
+++ b/packages/multimedia/libvdpau/package.mk
@@ -23,7 +23,7 @@ PKG_ARCH="any"
 PKG_LICENSE="MIT"
 PKG_SITE="https://wiki.freedesktop.org/www/Software/VDPAU/"
 PKG_URL="https://secure.freedesktop.org/~aplattner/vdpau/$PKG_NAME-$PKG_VERSION.tar.gz"
-PKG_DEPENDS_TARGET="toolchain libX11 dri2proto libXext"
+PKG_DEPENDS_TARGET="toolchain libX11 xorgproto libXext"
 PKG_SECTION="multimedia"
 PKG_SHORTDESC="libvdpau: a Video Decode and Presentation API for UNIX."
 PKG_LONGDESC="VDPAU is the Video Decode and Presentation API for UNIX. It provides an interface to video decode acceleration and presentation hardware present in modern GPUs."
diff --git a/packages/x11/driver/xf86-input-evdev/package.mk b/packages/x11/driver/xf86-input-evdev/package.mk
index b5b9303476c..2487e8472ee 100644
--- a/packages/x11/driver/xf86-input-evdev/package.mk
+++ b/packages/x11/driver/xf86-input-evdev/package.mk
@@ -23,7 +23,7 @@ PKG_ARCH="any"
 PKG_LICENSE="OSS"
 PKG_SITE="http://www.X.org"
 PKG_URL="http://xorg.freedesktop.org/archive/individual/driver/$PKG_NAME-$PKG_VERSION.tar.bz2"
-PKG_DEPENDS_TARGET="toolchain util-macros inputproto libevdev mtdev systemd"
+PKG_DEPENDS_TARGET="toolchain util-macros libevdev mtdev systemd"
 PKG_SECTION="x11/driver"
 PKG_SHORTDESC="xf86-input-evdev: Generic Xorg Linux input driver"
 PKG_LONGDESC="Evdev is an Xorg input driver for Linux's generic event devices. It therefore supports all input devices that the kernel knows about, including most mice and keyboards."
diff --git a/packages/x11/driver/xf86-video-intel/package.mk b/packages/x11/driver/xf86-video-intel/package.mk
index 26afa66dac9..c62be92425d 100644
--- a/packages/x11/driver/xf86-video-intel/package.mk
+++ b/packages/x11/driver/xf86-video-intel/package.mk
@@ -24,7 +24,7 @@ PKG_LICENSE="OSS"
 PKG_SITE="http://intellinuxgraphics.org/"
 PKG_URL="https://cgit.freedesktop.org/xorg/driver/xf86-video-intel/snapshot/$PKG_VERSION.tar.xz"
 PKG_SOURCE_DIR="$PKG_VERSION"
-PKG_DEPENDS_TARGET="toolchain libXcomposite util-macros fontsproto systemd xorg-server"
+PKG_DEPENDS_TARGET="toolchain libXcomposite libXxf86vm libXdamage util-macros systemd xorg-server"
 PKG_SECTION="x11/driver"
 PKG_SHORTDESC="xf86-video-intel: The Xorg driver for Intel video chips"
 PKG_LONGDESC="The Xorg driver for Intel i810, i815, 830M, 845G, 852GM, 855GM, 865G, 915G, 915GM and 965G video chips."
diff --git a/packages/x11/lib/libX11/package.mk b/packages/x11/lib/libX11/package.mk
index 51132909451..4e6af60de0e 100644
--- a/packages/x11/lib/libX11/package.mk
+++ b/packages/x11/lib/libX11/package.mk
@@ -23,7 +23,7 @@ PKG_ARCH="any"
 PKG_LICENSE="OSS"
 PKG_SITE="http://www.x.org/"
 PKG_URL="http://xorg.freedesktop.org/archive/individual/lib/$PKG_NAME-$PKG_VERSION.tar.bz2"
-PKG_DEPENDS_TARGET="toolchain xproto:host xproto util-macros xextproto xcmiscproto bigreqsproto kbproto inputproto xtrans libXau libxcb"
+PKG_DEPENDS_TARGET="toolchain util-macros xtrans libXau libxcb"
 PKG_SECTION="x11/lib"
 PKG_SHORTDESC="libx11: The X11 library"
 PKG_LONGDESC="LibX11 is the main X11 library containing all the client-side code to access the X11 windowing system."
diff --git a/packages/x11/lib/libXau/package.mk b/packages/x11/lib/libXau/package.mk
index 07930c69275..af504ad34a8 100644
--- a/packages/x11/lib/libXau/package.mk
+++ b/packages/x11/lib/libXau/package.mk
@@ -23,7 +23,7 @@ PKG_ARCH="any"
 PKG_LICENSE="OSS"
 PKG_SITE="http://www.X.org"
 PKG_URL="http://xorg.freedesktop.org/archive/individual/lib/$PKG_NAME-$PKG_VERSION.tar.bz2"
-PKG_DEPENDS_TARGET="toolchain util-macros xproto"
+PKG_DEPENDS_TARGET="toolchain util-macros"
 PKG_SECTION="x11/lib"
 PKG_SHORTDESC="libXau: X authorization file management libary"
 PKG_LONGDESC="X authorization file management libary"
diff --git a/packages/x11/lib/libXcomposite/package.mk b/packages/x11/lib/libXcomposite/package.mk
index 183ff113530..404cb82d58a 100644
--- a/packages/x11/lib/libXcomposite/package.mk
+++ b/packages/x11/lib/libXcomposite/package.mk
@@ -23,7 +23,7 @@ PKG_ARCH="any"
 PKG_LICENSE="OSS"
 PKG_SITE="http://www.X.org"
 PKG_URL="http://xorg.freedesktop.org/archive/individual/lib/$PKG_NAME-$PKG_VERSION.tar.bz2"
-PKG_DEPENDS_TARGET="toolchain util-macros compositeproto fixesproto libXfixes libXext libX11"
+PKG_DEPENDS_TARGET="toolchain util-macros libXfixes libXext libX11"
 PKG_SECTION="x11/lib"
 PKG_SHORTDESC="libxcomposite: X Composite Library"
 PKG_LONGDESC="X Composite Library"
diff --git a/packages/x11/lib/libXdamage/package.mk b/packages/x11/lib/libXdamage/package.mk
index 5804ed495de..3f1f43d3b0a 100644
--- a/packages/x11/lib/libXdamage/package.mk
+++ b/packages/x11/lib/libXdamage/package.mk
@@ -23,7 +23,7 @@ PKG_ARCH="any"
 PKG_LICENSE="OSS"
 PKG_SITE="http://www.X.org"
 PKG_URL="http://xorg.freedesktop.org/archive/individual/lib/$PKG_NAME-$PKG_VERSION.tar.bz2"
-PKG_DEPENDS_TARGET="toolchain util-macros damageproto fixesproto libX11 libXfixes"
+PKG_DEPENDS_TARGET="toolchain util-macros libX11 libXfixes"
 PKG_SECTION="x11/lib"
 PKG_SHORTDESC="libXdamage: X11 damaged region extension library"
 PKG_LONGDESC="LibXdamage provides an X Window System client interface to the DAMAGE extension to the X protocol. The Damage extension provides for notification of when on-screen regions have been 'damaged' (altered)."
diff --git a/packages/x11/lib/libXext/package.mk b/packages/x11/lib/libXext/package.mk
index 2a10b666bdc..e6690e8cf97 100644
--- a/packages/x11/lib/libXext/package.mk
+++ b/packages/x11/lib/libXext/package.mk
@@ -23,7 +23,7 @@ PKG_ARCH="any"
 PKG_LICENSE="OSS"
 PKG_SITE="http://www.X.org"
 PKG_URL="http://xorg.freedesktop.org/archive/individual/lib/$PKG_NAME-$PKG_VERSION.tar.bz2"
-PKG_DEPENDS_TARGET="toolchain util-macros xextproto libX11"
+PKG_DEPENDS_TARGET="toolchain util-macros libX11"
 PKG_SECTION="x11/lib"
 PKG_SHORTDESC="libxext: X11 miscellaneous extensions library"
 PKG_LONGDESC="LibXext provides an X Window System client interface to several extensions to the X protocol, iincluding DOUBLE-BUFFER (DBE), DPMS, Extended-Visual-Information (EVI), LBX, MIT-SHM, MIT-SUNDRY-NONSTANDARD, Multi-Buffering, SECURITY, SHAPE, SHAPE, SYNC, TOG-CUP, XC-APPGROUP, XC-MISC, XTEST and possibly others."
diff --git a/packages/x11/lib/libXfixes/package.mk b/packages/x11/lib/libXfixes/package.mk
index f2ea0f8c9a5..0c831fc66b7 100644
--- a/packages/x11/lib/libXfixes/package.mk
+++ b/packages/x11/lib/libXfixes/package.mk
@@ -23,7 +23,7 @@ PKG_ARCH="any"
 PKG_LICENSE="OSS"
 PKG_SITE="http://www.X.org"
 PKG_URL="http://xorg.freedesktop.org/archive/individual/lib/$PKG_NAME-$PKG_VERSION.tar.bz2"
-PKG_DEPENDS_TARGET="toolchain util-macros fixesproto libX11"
+PKG_DEPENDS_TARGET="toolchain util-macros libX11"
 PKG_SECTION="x11/lib"
 PKG_SHORTDESC="libxfixes: X Fixes Library"
 PKG_LONGDESC="X Fixes Library"
diff --git a/packages/x11/lib/libXfont2/package.mk b/packages/x11/lib/libXfont2/package.mk
index 5e39ff35674..f8ad4a1337d 100644
--- a/packages/x11/lib/libXfont2/package.mk
+++ b/packages/x11/lib/libXfont2/package.mk
@@ -23,7 +23,7 @@ PKG_ARCH="any"
 PKG_LICENSE="OSS"
 PKG_SITE="http://www.X.org"
 PKG_URL="http://xorg.freedesktop.org/archive/individual/lib/$PKG_NAME-$PKG_VERSION.tar.bz2"
-PKG_DEPENDS_TARGET="toolchain util-macros fontcacheproto fontsproto xtrans freetype libfontenc"
+PKG_DEPENDS_TARGET="toolchain util-macros xtrans freetype libfontenc"
 PKG_SECTION="x11/lib"
 PKG_SHORTDESC="libxfont: X font Library"
 PKG_LONGDESC="X font Library"
diff --git a/packages/x11/lib/libXi/package.mk b/packages/x11/lib/libXi/package.mk
index 5d8efcee81e..06a39849d1b 100644
--- a/packages/x11/lib/libXi/package.mk
+++ b/packages/x11/lib/libXi/package.mk
@@ -23,7 +23,7 @@ PKG_ARCH="any"
 PKG_LICENSE="OSS"
 PKG_SITE="http://www.x.org/"
 PKG_URL="http://xorg.freedesktop.org/archive/individual/lib/$PKG_NAME-$PKG_VERSION.tar.bz2"
-PKG_DEPENDS_TARGET="toolchain util-macros libX11 inputproto libXfixes"
+PKG_DEPENDS_TARGET="toolchain util-macros libX11 libXfixes"
 PKG_SECTION="x11/lib"
 PKG_SHORTDESC="libxi: X11 Input extension library"
 PKG_LONGDESC="LibXi provides an X Window System client interface to the XINPUT extension to the X protocol."
diff --git a/packages/x11/lib/libXinerama/package.mk b/packages/x11/lib/libXinerama/package.mk
index 25324144a92..b3f23186ecc 100644
--- a/packages/x11/lib/libXinerama/package.mk
+++ b/packages/x11/lib/libXinerama/package.mk
@@ -23,7 +23,7 @@ PKG_ARCH="any"
 PKG_LICENSE="OSS"
 PKG_SITE="http://www.X.org"
 PKG_URL="http://xorg.freedesktop.org/archive/individual/lib/$PKG_NAME-$PKG_VERSION.tar.bz2"
-PKG_DEPENDS_TARGET="toolchain util-macros xineramaproto libXext"
+PKG_DEPENDS_TARGET="toolchain util-macros libXext"
 PKG_SECTION="x11/lib"
 PKG_SHORTDESC="libXinerama: The Xinerama library."
 PKG_LONGDESC="libXinerama is the Xinerama library."
diff --git a/packages/x11/lib/libXmu/package.mk b/packages/x11/lib/libXmu/package.mk
index 116b5dd99ee..df9e5798f3d 100644
--- a/packages/x11/lib/libXmu/package.mk
+++ b/packages/x11/lib/libXmu/package.mk
@@ -23,7 +23,7 @@ PKG_ARCH="any"
 PKG_LICENSE="OSS"
 PKG_SITE="http://www.X.org"
 PKG_URL="http://xorg.freedesktop.org/archive/individual/lib/$PKG_NAME-$PKG_VERSION.tar.bz2"
-PKG_DEPENDS_TARGET="toolchain util-macros xextproto libXext libX11 libXt"
+PKG_DEPENDS_TARGET="toolchain util-macros libXext libX11 libXt"
 PKG_SECTION="x11/lib"
 PKG_SHORTDESC="libxmu: X11 miscellaneous utility library"
 PKG_LONGDESC="LibXmu provides a set of miscellaneous utility convenience functions for X libraries to use."
diff --git a/packages/x11/lib/libXrandr/package.mk b/packages/x11/lib/libXrandr/package.mk
index 2be3d4ae76a..a2b81c99988 100644
--- a/packages/x11/lib/libXrandr/package.mk
+++ b/packages/x11/lib/libXrandr/package.mk
@@ -23,7 +23,7 @@ PKG_ARCH="any"
 PKG_LICENSE="OSS"
 PKG_SITE="http://www.X.org"
 PKG_URL="http://xorg.freedesktop.org/archive/individual/lib/$PKG_NAME-$PKG_VERSION.tar.bz2"
-PKG_DEPENDS_TARGET="toolchain util-macros randrproto libX11 libXrender libXext"
+PKG_DEPENDS_TARGET="toolchain util-macros libX11 libXrender libXext"
 PKG_SECTION="x11/lib"
 PKG_SHORTDESC="libxrandr: X Resize, Rotate and Reflection extension client library"
 PKG_LONGDESC="Xrandr is a simple library designed to interface the X Resize and Rotate Extension. This allows clients to change the size and rotation of the root window of a screen, along with the ability to reflect the screen about either axis."
diff --git a/packages/x11/lib/libXrender/package.mk b/packages/x11/lib/libXrender/package.mk
index 90fed3c164d..3b4cdaabaab 100644
--- a/packages/x11/lib/libXrender/package.mk
+++ b/packages/x11/lib/libXrender/package.mk
@@ -23,7 +23,7 @@ PKG_ARCH="any"
 PKG_LICENSE="OSS"
 PKG_SITE="http://www.X.org"
 PKG_URL="http://xorg.freedesktop.org/archive/individual/lib/$PKG_NAME-$PKG_VERSION.tar.bz2"
-PKG_DEPENDS_TARGET="toolchain util-macros renderproto libX11"
+PKG_DEPENDS_TARGET="toolchain util-macros libX11"
 PKG_SECTION="x11/lib"
 PKG_SHORTDESC="libxrender: X Rendering Extension client library"
 PKG_LONGDESC="The X Rendering Extension (Render) introduces digital image composition as the foundation of a new rendering model within the X Window System. Rendering geometric figures is accomplished by client-side tesselation into either triangles or trapezoids."
diff --git a/packages/x11/lib/libXtst/package.mk b/packages/x11/lib/libXtst/package.mk
index 1715b2b3ed2..0b713751fd8 100644
--- a/packages/x11/lib/libXtst/package.mk
+++ b/packages/x11/lib/libXtst/package.mk
@@ -23,7 +23,7 @@ PKG_ARCH="any"
 PKG_LICENSE="OSS"
 PKG_SITE="http://www.X.org"
 PKG_URL="http://xorg.freedesktop.org/archive/individual/lib/$PKG_NAME-$PKG_VERSION.tar.bz2"
-PKG_DEPENDS_TARGET="toolchain util-macros recordproto xextproto libXext inputproto libXi libX11"
+PKG_DEPENDS_TARGET="toolchain util-macros libXext libXi libX11"
 PKG_SECTION="x11/lib"
 PKG_SHORTDESC="libxtst: The Xtst Library"
 PKG_LONGDESC="The Xtst Library"
diff --git a/packages/x11/lib/libXxf86vm/package.mk b/packages/x11/lib/libXxf86vm/package.mk
index cebc8287f8e..8ee7bf3a551 100644
--- a/packages/x11/lib/libXxf86vm/package.mk
+++ b/packages/x11/lib/libXxf86vm/package.mk
@@ -23,7 +23,7 @@ PKG_ARCH="any"
 PKG_LICENSE="OSS"
 PKG_SITE="http://www.X.org"
 PKG_URL="http://xorg.freedesktop.org/archive/individual/lib/$PKG_NAME-$PKG_VERSION.tar.bz2"
-PKG_DEPENDS_TARGET="toolchain util-macros xf86vidmodeproto libX11 libXext"
+PKG_DEPENDS_TARGET="toolchain util-macros libX11 libXext"
 PKG_SECTION="x11/lib"
 PKG_SHORTDESC="libxxf86vm: Extension library for the XFree86-VidMode X extension"
 PKG_LONGDESC="The libxxf86vm provides an interface to the server extension XFree86-VidModeExtension which allows the video modes to be queried and adjusted dynamically and mode switching to be controlled."
diff --git a/packages/x11/lib/libfontenc/package.mk b/packages/x11/lib/libfontenc/package.mk
index 7f5e2fccb49..e584093d932 100644
--- a/packages/x11/lib/libfontenc/package.mk
+++ b/packages/x11/lib/libfontenc/package.mk
@@ -23,7 +23,7 @@ PKG_ARCH="any"
 PKG_LICENSE="OSS"
 PKG_SITE="http://www.X.org"
 PKG_URL="http://xorg.freedesktop.org/archive/individual/lib/$PKG_NAME-$PKG_VERSION.tar.bz2"
-PKG_DEPENDS_TARGET="toolchain util-macros xproto zlib font-util"
+PKG_DEPENDS_TARGET="toolchain util-macros zlib font-util"
 PKG_SECTION="x11/lib"
 PKG_SHORTDESC="libfontenc: X11 font encoding library"
 PKG_LONGDESC="Libfontenc is a library which helps font libraries portably determine and deal with different encodings of fonts."
diff --git a/packages/x11/lib/libxkbfile/package.mk b/packages/x11/lib/libxkbfile/package.mk
index 4baac097446..8a1a1d1c96a 100644
--- a/packages/x11/lib/libxkbfile/package.mk
+++ b/packages/x11/lib/libxkbfile/package.mk
@@ -23,7 +23,7 @@ PKG_ARCH="any"
 PKG_LICENSE="OSS"
 PKG_SITE="http://www.X.org"
 PKG_URL="http://xorg.freedesktop.org/archive/individual/lib/$PKG_NAME-$PKG_VERSION.tar.bz2"
-PKG_DEPENDS_TARGET="toolchain util-macros kbproto libX11"
+PKG_DEPENDS_TARGET="toolchain util-macros libX11"
 PKG_SECTION="x11/lib"
 PKG_SHORTDESC="libxkbfile: X11 keyboard file manipulation library"
 PKG_LONGDESC="Libxkbfile provides an interface to read and manipulate description files for XKB, the X11 keyboard configuration extension."
diff --git a/packages/x11/lib/libxshmfence/package.mk b/packages/x11/lib/libxshmfence/package.mk
index 51e11e5afa9..54f613f55e0 100644
--- a/packages/x11/lib/libxshmfence/package.mk
+++ b/packages/x11/lib/libxshmfence/package.mk
@@ -23,7 +23,7 @@ PKG_ARCH="any"
 PKG_LICENSE="OSS"
 PKG_SITE="http://www.X.org"
 PKG_URL="http://xorg.freedesktop.org/archive/individual/lib/$PKG_NAME-$PKG_VERSION.tar.bz2"
-PKG_DEPENDS_TARGET="toolchain util-macros xproto"
+PKG_DEPENDS_TARGET="toolchain util-macros"
 PKG_SECTION="x11/lib"
 PKG_SHORTDESC="libxshmfence: Shared memory 'SyncFence' synchronization primitive."
 PKG_LONGDESC="libxshmfence is the Shared memory 'SyncFence' synchronization primitive."
diff --git a/packages/x11/proto/bigreqsproto/package.mk b/packages/x11/proto/bigreqsproto/package.mk
deleted file mode 100644
index 6308fc91827..00000000000
--- a/packages/x11/proto/bigreqsproto/package.mk
+++ /dev/null
@@ -1,32 +0,0 @@
-################################################################################
-#      This file is part of OpenELEC - http://www.openelec.tv
-#      Copyright (C) 2009-2016 Stephan Raue (stephan@openelec.tv)
-#
-#  OpenELEC is free software: you can redistribute it and/or modify
-#  it under the terms of the GNU General Public License as published by
-#  the Free Software Foundation, either version 2 of the License, or
-#  (at your option) any later version.
-#
-#  OpenELEC is distributed in the hope that it will be useful,
-#  but WITHOUT ANY WARRANTY; without even the implied warranty of
-#  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
-#  GNU General Public License for more details.
-#
-#  You should have received a copy of the GNU General Public License
-#  along with OpenELEC.  If not, see <http://www.gnu.org/licenses/>.
-################################################################################
-
-PKG_NAME="bigreqsproto"
-PKG_VERSION="1.1.2"
-PKG_SHA256="462116ab44e41d8121bfde947321950370b285a5316612b8fce8334d50751b1e"
-PKG_ARCH="any"
-PKG_LICENSE="OSS"
-PKG_SITE="http://www.X.org"
-PKG_URL="http://xorg.freedesktop.org/archive/individual/proto/$PKG_NAME-$PKG_VERSION.tar.bz2"
-PKG_DEPENDS_TARGET="toolchain util-macros"
-PKG_SECTION="x11/proto"
-PKG_SHORTDESC="bigreqsproto: BigReqs extension headers"
-PKG_LONGDESC="BigReqs extension headers"
-
-# package specific configure options
-PKG_CONFIGURE_OPTS_TARGET="--without-xmlto"
diff --git a/packages/x11/proto/compositeproto/package.mk b/packages/x11/proto/compositeproto/package.mk
deleted file mode 100644
index 9eb5ff85831..00000000000
--- a/packages/x11/proto/compositeproto/package.mk
+++ /dev/null
@@ -1,32 +0,0 @@
-################################################################################
-#      This file is part of OpenELEC - http://www.openelec.tv
-#      Copyright (C) 2009-2016 Stephan Raue (stephan@openelec.tv)
-#
-#  OpenELEC is free software: you can redistribute it and/or modify
-#  it under the terms of the GNU General Public License as published by
-#  the Free Software Foundation, either version 2 of the License, or
-#  (at your option) any later version.
-#
-#  OpenELEC is distributed in the hope that it will be useful,
-#  but WITHOUT ANY WARRANTY; without even the implied warranty of
-#  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
-#  GNU General Public License for more details.
-#
-#  You should have received a copy of the GNU General Public License
-#  along with OpenELEC.  If not, see <http://www.gnu.org/licenses/>.
-################################################################################
-
-PKG_NAME="compositeproto"
-PKG_VERSION="0.4.2"
-PKG_SHA256="049359f0be0b2b984a8149c966dd04e8c58e6eade2a4a309cf1126635ccd0cfc"
-PKG_ARCH="any"
-PKG_LICENSE="OSS"
-PKG_SITE="http://www.X.org"
-PKG_URL="http://xorg.freedesktop.org/archive/individual/proto/$PKG_NAME-$PKG_VERSION.tar.bz2"
-PKG_DEPENDS_TARGET="toolchain util-macros"
-PKG_SECTION="x11/proto"
-PKG_SHORTDESC="compositeproto: Composite extension headers"
-PKG_LONGDESC="Composite extension headers"
-
-# package specific configure options
-PKG_CONFIGURE_OPTS_TARGET="--without-xmlto"
diff --git a/packages/x11/proto/damageproto/package.mk b/packages/x11/proto/damageproto/package.mk
deleted file mode 100644
index 417a3cca7c7..00000000000
--- a/packages/x11/proto/damageproto/package.mk
+++ /dev/null
@@ -1,32 +0,0 @@
-################################################################################
-#      This file is part of OpenELEC - http://www.openelec.tv
-#      Copyright (C) 2009-2016 Stephan Raue (stephan@openelec.tv)
-#
-#  OpenELEC is free software: you can redistribute it and/or modify
-#  it under the terms of the GNU General Public License as published by
-#  the Free Software Foundation, either version 2 of the License, or
-#  (at your option) any later version.
-#
-#  OpenELEC is distributed in the hope that it will be useful,
-#  but WITHOUT ANY WARRANTY; without even the implied warranty of
-#  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
-#  GNU General Public License for more details.
-#
-#  You should have received a copy of the GNU General Public License
-#  along with OpenELEC.  If not, see <http://www.gnu.org/licenses/>.
-################################################################################
-
-PKG_NAME="damageproto"
-PKG_VERSION="1.2.1"
-PKG_SHA256="5c7c112e9b9ea8a9d5b019e5f17d481ae20f766cb7a4648360e7c1b46fc9fc5b"
-PKG_ARCH="any"
-PKG_LICENSE="OSS"
-PKG_SITE="http://www.X.org"
-PKG_URL="http://xorg.freedesktop.org/archive/individual/proto/$PKG_NAME-$PKG_VERSION.tar.bz2"
-PKG_DEPENDS_TARGET="toolchain util-macros"
-PKG_SECTION="x11/proto"
-PKG_SHORTDESC="damageproto: Damage extension header"
-PKG_LONGDESC="Damage extension headers"
-
-# package specific configure options
-PKG_CONFIGURE_OPTS_TARGET="--without-xmlto"
diff --git a/packages/x11/proto/dri2proto/package.mk b/packages/x11/proto/dri2proto/package.mk
deleted file mode 100644
index 11a8766afb2..00000000000
--- a/packages/x11/proto/dri2proto/package.mk
+++ /dev/null
@@ -1,32 +0,0 @@
-################################################################################
-#      This file is part of OpenELEC - http://www.openelec.tv
-#      Copyright (C) 2009-2016 Stephan Raue (stephan@openelec.tv)
-#
-#  OpenELEC is free software: you can redistribute it and/or modify
-#  it under the terms of the GNU General Public License as published by
-#  the Free Software Foundation, either version 2 of the License, or
-#  (at your option) any later version.
-#
-#  OpenELEC is distributed in the hope that it will be useful,
-#  but WITHOUT ANY WARRANTY; without even the implied warranty of
-#  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
-#  GNU General Public License for more details.
-#
-#  You should have received a copy of the GNU General Public License
-#  along with OpenELEC.  If not, see <http://www.gnu.org/licenses/>.
-################################################################################
-
-PKG_NAME="dri2proto"
-PKG_VERSION="2.8"
-PKG_SHA256="f9b55476def44fc7c459b2537d17dbc731e36ed5d416af7ca0b1e2e676f8aa04"
-PKG_ARCH="any"
-PKG_LICENSE="OSS"
-PKG_SITE="http://www.X.org"
-PKG_URL="http://xorg.freedesktop.org/archive/individual/proto/$PKG_NAME-$PKG_VERSION.tar.bz2"
-PKG_DEPENDS_TARGET="toolchain util-macros"
-PKG_SECTION="x11/proto"
-PKG_SHORTDESC="dri2proto: X.Org DRI2 protocol headers"
-PKG_LONGDESC="X.Org DRI2 protocol headers."
-
-# package specific configure options
-PKG_CONFIGURE_OPTS_TARGET="--without-xmlto"
diff --git a/packages/x11/proto/dri3proto/package.mk b/packages/x11/proto/dri3proto/package.mk
deleted file mode 100644
index 0225e985cd3..00000000000
--- a/packages/x11/proto/dri3proto/package.mk
+++ /dev/null
@@ -1,32 +0,0 @@
-################################################################################
-#      This file is part of OpenELEC - http://www.openelec.tv
-#      Copyright (C) 2009-2016 Stephan Raue (stephan@openelec.tv)
-#
-#  OpenELEC is free software: you can redistribute it and/or modify
-#  it under the terms of the GNU General Public License as published by
-#  the Free Software Foundation, either version 2 of the License, or
-#  (at your option) any later version.
-#
-#  OpenELEC is distributed in the hope that it will be useful,
-#  but WITHOUT ANY WARRANTY; without even the implied warranty of
-#  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
-#  GNU General Public License for more details.
-#
-#  You should have received a copy of the GNU General Public License
-#  along with OpenELEC.  If not, see <http://www.gnu.org/licenses/>.
-################################################################################
-
-PKG_NAME="dri3proto"
-PKG_VERSION="1.0"
-PKG_SHA256="01be49d70200518b9a6b297131f6cc71f4ea2de17436896af153226a774fc074"
-PKG_ARCH="any"
-PKG_LICENSE="OSS"
-PKG_SITE="http://www.X.org"
-PKG_URL="http://xorg.freedesktop.org/archive/individual/proto/$PKG_NAME-$PKG_VERSION.tar.bz2"
-PKG_DEPENDS_TARGET="toolchain util-macros"
-PKG_SECTION="x11/proto"
-PKG_SHORTDESC="dri3proto: X.Org DRI3 protocol headers"
-PKG_LONGDESC="X.Org DRI3 protocol headers."
-
-# package specific configure options
-PKG_CONFIGURE_OPTS_TARGET="--without-xmlto"
diff --git a/packages/x11/proto/fontcacheproto/package.mk b/packages/x11/proto/fontcacheproto/package.mk
deleted file mode 100644
index f9cbaffce80..00000000000
--- a/packages/x11/proto/fontcacheproto/package.mk
+++ /dev/null
@@ -1,32 +0,0 @@
-################################################################################
-#      This file is part of OpenELEC - http://www.openelec.tv
-#      Copyright (C) 2009-2016 Stephan Raue (stephan@openelec.tv)
-#
-#  OpenELEC is free software: you can redistribute it and/or modify
-#  it under the terms of the GNU General Public License as published by
-#  the Free Software Foundation, either version 2 of the License, or
-#  (at your option) any later version.
-#
-#  OpenELEC is distributed in the hope that it will be useful,
-#  but WITHOUT ANY WARRANTY; without even the implied warranty of
-#  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
-#  GNU General Public License for more details.
-#
-#  You should have received a copy of the GNU General Public License
-#  along with OpenELEC.  If not, see <http://www.gnu.org/licenses/>.
-################################################################################
-
-PKG_NAME="fontcacheproto"
-PKG_VERSION="0.1.3"
-PKG_SHA256="1dcaa659d416272ff68e567d1910ccc1e369768f13b983cffcccd6c563dbe3cb"
-PKG_ARCH="any"
-PKG_LICENSE="OSS"
-PKG_SITE="http://www.X.org"
-PKG_URL="http://xorg.freedesktop.org/archive/individual/proto/$PKG_NAME-$PKG_VERSION.tar.bz2"
-PKG_DEPENDS_TARGET="toolchain util-macros"
-PKG_SECTION="x11/proto"
-PKG_SHORTDESC="fontcacheproto: Fontcache extension headers"
-PKG_LONGDESC="Fontcache extension headers"
-
-# package specific configure options
-PKG_CONFIGURE_OPTS_TARGET="--without-xmlto"
diff --git a/packages/x11/proto/fontsproto/package.mk b/packages/x11/proto/fontsproto/package.mk
deleted file mode 100644
index 8670978dfd9..00000000000
--- a/packages/x11/proto/fontsproto/package.mk
+++ /dev/null
@@ -1,32 +0,0 @@
-################################################################################
-#      This file is part of OpenELEC - http://www.openelec.tv
-#      Copyright (C) 2009-2016 Stephan Raue (stephan@openelec.tv)
-#
-#  OpenELEC is free software: you can redistribute it and/or modify
-#  it under the terms of the GNU General Public License as published by
-#  the Free Software Foundation, either version 2 of the License, or
-#  (at your option) any later version.
-#
-#  OpenELEC is distributed in the hope that it will be useful,
-#  but WITHOUT ANY WARRANTY; without even the implied warranty of
-#  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
-#  GNU General Public License for more details.
-#
-#  You should have received a copy of the GNU General Public License
-#  along with OpenELEC.  If not, see <http://www.gnu.org/licenses/>.
-################################################################################
-
-PKG_NAME="fontsproto"
-PKG_VERSION="2.1.3"
-PKG_SHA256="259046b0dd9130825c4a4c479ba3591d6d0f17a33f54e294b56478729a6e5ab8"
-PKG_ARCH="any"
-PKG_LICENSE="OSS"
-PKG_SITE="http://www.X.org"
-PKG_URL="http://xorg.freedesktop.org/archive/individual/proto/$PKG_NAME-$PKG_VERSION.tar.bz2"
-PKG_DEPENDS_TARGET="toolchain util-macros"
-PKG_SECTION="x11/proto"
-PKG_SHORTDESC="fontsproto: Fonts extension headers"
-PKG_LONGDESC="Fonts extension headers"
-
-# package specific configure options
-PKG_CONFIGURE_OPTS_TARGET="--without-xmlto"
diff --git a/packages/x11/proto/glproto/package.mk b/packages/x11/proto/glproto/package.mk
deleted file mode 100644
index 2134f4e08bc..00000000000
--- a/packages/x11/proto/glproto/package.mk
+++ /dev/null
@@ -1,32 +0,0 @@
-################################################################################
-#      This file is part of OpenELEC - http://www.openelec.tv
-#      Copyright (C) 2009-2016 Stephan Raue (stephan@openelec.tv)
-#
-#  OpenELEC is free software: you can redistribute it and/or modify
-#  it under the terms of the GNU General Public License as published by
-#  the Free Software Foundation, either version 2 of the License, or
-#  (at your option) any later version.
-#
-#  OpenELEC is distributed in the hope that it will be useful,
-#  but WITHOUT ANY WARRANTY; without even the implied warranty of
-#  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
-#  GNU General Public License for more details.
-#
-#  You should have received a copy of the GNU General Public License
-#  along with OpenELEC.  If not, see <http://www.gnu.org/licenses/>.
-################################################################################
-
-PKG_NAME="glproto"
-PKG_VERSION="1.4.17"
-PKG_SHA256="adaa94bded310a2bfcbb9deb4d751d965fcfe6fb3a2f6d242e2df2d6589dbe40"
-PKG_ARCH="any"
-PKG_LICENSE="OSS"
-PKG_SITE="http://www.x.org/"
-PKG_URL="http://xorg.freedesktop.org/archive/individual/proto/$PKG_NAME-$PKG_VERSION.tar.bz2"
-PKG_DEPENDS_TARGET="toolchain util-macros"
-PKG_SECTION="x11/proto"
-PKG_SHORTDESC="glproto: GL extension headers"
-PKG_LONGDESC="GL extension headers"
-
-# package specific configure options
-PKG_CONFIGURE_OPTS_TARGET="--without-xmlto"
diff --git a/packages/x11/proto/inputproto/package.mk b/packages/x11/proto/inputproto/package.mk
deleted file mode 100644
index a847b0f8dc9..00000000000
--- a/packages/x11/proto/inputproto/package.mk
+++ /dev/null
@@ -1,32 +0,0 @@
-################################################################################
-#      This file is part of OpenELEC - http://www.openelec.tv
-#      Copyright (C) 2009-2016 Stephan Raue (stephan@openelec.tv)
-#
-#  OpenELEC is free software: you can redistribute it and/or modify
-#  it under the terms of the GNU General Public License as published by
-#  the Free Software Foundation, either version 2 of the License, or
-#  (at your option) any later version.
-#
-#  OpenELEC is distributed in the hope that it will be useful,
-#  but WITHOUT ANY WARRANTY; without even the implied warranty of
-#  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
-#  GNU General Public License for more details.
-#
-#  You should have received a copy of the GNU General Public License
-#  along with OpenELEC.  If not, see <http://www.gnu.org/licenses/>.
-################################################################################
-
-PKG_NAME="inputproto"
-PKG_VERSION="2.3.2"
-PKG_SHA256="893a6af55733262058a27b38eeb1edc733669f01d404e8581b167f03c03ef31d"
-PKG_ARCH="any"
-PKG_LICENSE="OSS"
-PKG_SITE="http://www.X.org"
-PKG_URL="http://xorg.freedesktop.org/archive/individual/proto/$PKG_NAME-$PKG_VERSION.tar.bz2"
-PKG_DEPENDS_TARGET="toolchain util-macros"
-PKG_SECTION="x11/proto"
-PKG_SHORTDESC="inputproto: Input extension headers"
-PKG_LONGDESC="Input extension headers"
-
-# package specific configure options
-PKG_CONFIGURE_OPTS_TARGET="--without-xmlto"
diff --git a/packages/x11/proto/kbproto/package.mk b/packages/x11/proto/kbproto/package.mk
deleted file mode 100644
index 93322aa22fb..00000000000
--- a/packages/x11/proto/kbproto/package.mk
+++ /dev/null
@@ -1,32 +0,0 @@
-################################################################################
-#      This file is part of OpenELEC - http://www.openelec.tv
-#      Copyright (C) 2009-2016 Stephan Raue (stephan@openelec.tv)
-#
-#  OpenELEC is free software: you can redistribute it and/or modify
-#  it under the terms of the GNU General Public License as published by
-#  the Free Software Foundation, either version 2 of the License, or
-#  (at your option) any later version.
-#
-#  OpenELEC is distributed in the hope that it will be useful,
-#  but WITHOUT ANY WARRANTY; without even the implied warranty of
-#  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
-#  GNU General Public License for more details.
-#
-#  You should have received a copy of the GNU General Public License
-#  along with OpenELEC.  If not, see <http://www.gnu.org/licenses/>.
-################################################################################
-
-PKG_NAME="kbproto"
-PKG_VERSION="1.0.7"
-PKG_SHA256="f882210b76376e3fa006b11dbd890e56ec0942bc56e65d1249ff4af86f90b857"
-PKG_ARCH="any"
-PKG_LICENSE="OSS"
-PKG_SITE="http://www.x.org/"
-PKG_URL="http://xorg.freedesktop.org/archive/individual/proto/$PKG_NAME-$PKG_VERSION.tar.bz2"
-PKG_DEPENDS_TARGET="toolchain util-macros"
-PKG_SECTION="x11/proto"
-PKG_SHORTDESC="kbproto: KB extension headers"
-PKG_LONGDESC="KB extension headers"
-
-# package specific configure options
-PKG_CONFIGURE_OPTS_TARGET="--without-xmlto"
diff --git a/packages/x11/proto/presentproto/package.mk b/packages/x11/proto/presentproto/package.mk
deleted file mode 100644
index 2aecd05e7e1..00000000000
--- a/packages/x11/proto/presentproto/package.mk
+++ /dev/null
@@ -1,32 +0,0 @@
-################################################################################
-#      This file is part of OpenELEC - http://www.openelec.tv
-#      Copyright (C) 2009-2016 Stephan Raue (stephan@openelec.tv)
-#
-#  OpenELEC is free software: you can redistribute it and/or modify
-#  it under the terms of the GNU General Public License as published by
-#  the Free Software Foundation, either version 2 of the License, or
-#  (at your option) any later version.
-#
-#  OpenELEC is distributed in the hope that it will be useful,
-#  but WITHOUT ANY WARRANTY; without even the implied warranty of
-#  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
-#  GNU General Public License for more details.
-#
-#  You should have received a copy of the GNU General Public License
-#  along with OpenELEC.  If not, see <http://www.gnu.org/licenses/>.
-################################################################################
-
-PKG_NAME="presentproto"
-PKG_VERSION="1.1"
-PKG_SHA256="f69b23a8869f78a5898aaf53938b829c8165e597cda34f06024d43ee1e6d26b9"
-PKG_ARCH="any"
-PKG_LICENSE="OSS"
-PKG_SITE="http://www.X.org"
-PKG_URL="http://xorg.freedesktop.org/archive/individual/proto/$PKG_NAME-$PKG_VERSION.tar.bz2"
-PKG_DEPENDS_TARGET="toolchain util-macros"
-PKG_SECTION="x11/proto"
-PKG_SHORTDESC="presentproto: Present extension headers"
-PKG_LONGDESC="The Present extension provides a way for applications to update their window contents from a pixmap in a well defined fashion, synchronizing with the display refresh and potentially using a more efficient mechanism than copying the contents of the source pixmap."
-
-# package specific configure options
-PKG_CONFIGURE_OPTS_TARGET="--without-xmlto"
diff --git a/packages/x11/proto/randrproto/package.mk b/packages/x11/proto/randrproto/package.mk
deleted file mode 100644
index 5d69cd5d21f..00000000000
--- a/packages/x11/proto/randrproto/package.mk
+++ /dev/null
@@ -1,32 +0,0 @@
-################################################################################
-#      This file is part of OpenELEC - http://www.openelec.tv
-#      Copyright (C) 2009-2016 Stephan Raue (stephan@openelec.tv)
-#
-#  OpenELEC is free software: you can redistribute it and/or modify
-#  it under the terms of the GNU General Public License as published by
-#  the Free Software Foundation, either version 2 of the License, or
-#  (at your option) any later version.
-#
-#  OpenELEC is distributed in the hope that it will be useful,
-#  but WITHOUT ANY WARRANTY; without even the implied warranty of
-#  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
-#  GNU General Public License for more details.
-#
-#  You should have received a copy of the GNU General Public License
-#  along with OpenELEC.  If not, see <http://www.gnu.org/licenses/>.
-################################################################################
-
-PKG_NAME="randrproto"
-PKG_VERSION="1.5.0"
-PKG_SHA256="4c675533e79cd730997d232c8894b6692174dce58d3e207021b8f860be498468"
-PKG_ARCH="any"
-PKG_LICENSE="OSS"
-PKG_SITE="http://www.X.org"
-PKG_URL="http://xorg.freedesktop.org/archive/individual/proto/$PKG_NAME-$PKG_VERSION.tar.bz2"
-PKG_DEPENDS_TARGET="toolchain util-macros"
-PKG_SECTION="x11/proto"
-PKG_SHORTDESC="randrproto: Randr extension headers"
-PKG_LONGDESC="Randr extension headers"
-
-# package specific configure options
-PKG_CONFIGURE_OPTS_TARGET="--without-xmlto"
diff --git a/packages/x11/proto/recordproto/package.mk b/packages/x11/proto/recordproto/package.mk
deleted file mode 100644
index cc97bb227f5..00000000000
--- a/packages/x11/proto/recordproto/package.mk
+++ /dev/null
@@ -1,32 +0,0 @@
-################################################################################
-#      This file is part of OpenELEC - http://www.openelec.tv
-#      Copyright (C) 2009-2016 Stephan Raue (stephan@openelec.tv)
-#
-#  OpenELEC is free software: you can redistribute it and/or modify
-#  it under the terms of the GNU General Public License as published by
-#  the Free Software Foundation, either version 2 of the License, or
-#  (at your option) any later version.
-#
-#  OpenELEC is distributed in the hope that it will be useful,
-#  but WITHOUT ANY WARRANTY; without even the implied warranty of
-#  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
-#  GNU General Public License for more details.
-#
-#  You should have received a copy of the GNU General Public License
-#  along with OpenELEC.  If not, see <http://www.gnu.org/licenses/>.
-################################################################################
-
-PKG_NAME="recordproto"
-PKG_VERSION="1.14.2"
-PKG_SHA256="a777548d2e92aa259f1528de3c4a36d15e07a4650d0976573a8e2ff5437e7370"
-PKG_ARCH="any"
-PKG_LICENSE="OSS"
-PKG_SITE="http://www.X.org"
-PKG_URL="http://xorg.freedesktop.org/archive/individual/proto/$PKG_NAME-$PKG_VERSION.tar.bz2"
-PKG_DEPENDS_TARGET="toolchain util-macros"
-PKG_SECTION="x11/proto"
-PKG_SHORTDESC="recordproto: Record extension headers"
-PKG_LONGDESC="Record extension headers"
-
-# package specific configure options
-PKG_CONFIGURE_OPTS_TARGET="--without-xmlto"
diff --git a/packages/x11/proto/renderproto/package.mk b/packages/x11/proto/renderproto/package.mk
deleted file mode 100644
index 9ea00614a29..00000000000
--- a/packages/x11/proto/renderproto/package.mk
+++ /dev/null
@@ -1,32 +0,0 @@
-################################################################################
-#      This file is part of OpenELEC - http://www.openelec.tv
-#      Copyright (C) 2009-2016 Stephan Raue (stephan@openelec.tv)
-#
-#  OpenELEC is free software: you can redistribute it and/or modify
-#  it under the terms of the GNU General Public License as published by
-#  the Free Software Foundation, either version 2 of the License, or
-#  (at your option) any later version.
-#
-#  OpenELEC is distributed in the hope that it will be useful,
-#  but WITHOUT ANY WARRANTY; without even the implied warranty of
-#  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
-#  GNU General Public License for more details.
-#
-#  You should have received a copy of the GNU General Public License
-#  along with OpenELEC.  If not, see <http://www.gnu.org/licenses/>.
-################################################################################
-
-PKG_NAME="renderproto"
-PKG_VERSION="0.11.1"
-PKG_SHA256="06735a5b92b20759204e4751ecd6064a2ad8a6246bb65b3078b862a00def2537"
-PKG_ARCH="any"
-PKG_LICENSE="OSS"
-PKG_SITE="http://www.x.org/"
-PKG_URL="http://xorg.freedesktop.org/archive/individual/proto/$PKG_NAME-$PKG_VERSION.tar.bz2"
-PKG_DEPENDS_TARGET="toolchain util-macros"
-PKG_SECTION="x11/proto"
-PKG_SHORTDESC="renderproto: KB extension headers"
-PKG_LONGDESC="Render extension headers"
-
-# package specific configure options
-PKG_CONFIGURE_OPTS_TARGET="--without-xmlto"
diff --git a/packages/x11/proto/videoproto/package.mk b/packages/x11/proto/videoproto/package.mk
deleted file mode 100644
index 90f63ab4678..00000000000
--- a/packages/x11/proto/videoproto/package.mk
+++ /dev/null
@@ -1,32 +0,0 @@
-################################################################################
-#      This file is part of OpenELEC - http://www.openelec.tv
-#      Copyright (C) 2009-2016 Stephan Raue (stephan@openelec.tv)
-#
-#  OpenELEC is free software: you can redistribute it and/or modify
-#  it under the terms of the GNU General Public License as published by
-#  the Free Software Foundation, either version 2 of the License, or
-#  (at your option) any later version.
-#
-#  OpenELEC is distributed in the hope that it will be useful,
-#  but WITHOUT ANY WARRANTY; without even the implied warranty of
-#  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
-#  GNU General Public License for more details.
-#
-#  You should have received a copy of the GNU General Public License
-#  along with OpenELEC.  If not, see <http://www.gnu.org/licenses/>.
-################################################################################
-
-PKG_NAME="videoproto"
-PKG_VERSION="2.3.3"
-PKG_SHA256="c7803889fd08e6fcaf7b68cc394fb038b2325d1f315e571a6954577e07cca702"
-PKG_ARCH="any"
-PKG_LICENSE="OSS"
-PKG_SITE="http://www.x.org/"
-PKG_URL="http://xorg.freedesktop.org/archive/individual/proto/$PKG_NAME-$PKG_VERSION.tar.bz2"
-PKG_DEPENDS_TARGET="toolchain util-macros"
-PKG_SECTION="x11/proto"
-PKG_SHORTDESC="videoproto: KB extension headers"
-PKG_LONGDESC="Video extension headers"
-
-# package specific configure options
-PKG_CONFIGURE_OPTS_TARGET="--without-xmlto"
diff --git a/packages/x11/proto/xcmiscproto/package.mk b/packages/x11/proto/xcmiscproto/package.mk
deleted file mode 100644
index c639b82b7c1..00000000000
--- a/packages/x11/proto/xcmiscproto/package.mk
+++ /dev/null
@@ -1,32 +0,0 @@
-################################################################################
-#      This file is part of OpenELEC - http://www.openelec.tv
-#      Copyright (C) 2009-2016 Stephan Raue (stephan@openelec.tv)
-#
-#  OpenELEC is free software: you can redistribute it and/or modify
-#  it under the terms of the GNU General Public License as published by
-#  the Free Software Foundation, either version 2 of the License, or
-#  (at your option) any later version.
-#
-#  OpenELEC is distributed in the hope that it will be useful,
-#  but WITHOUT ANY WARRANTY; without even the implied warranty of
-#  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
-#  GNU General Public License for more details.
-#
-#  You should have received a copy of the GNU General Public License
-#  along with OpenELEC.  If not, see <http://www.gnu.org/licenses/>.
-################################################################################
-
-PKG_NAME="xcmiscproto"
-PKG_VERSION="1.2.2"
-PKG_SHA256="b13236869372256c36db79ae39d54214172677fb79e9cdc555dceec80bd9d2df"
-PKG_ARCH="any"
-PKG_LICENSE="OpenSource"
-PKG_SITE="http://www.X.org"
-PKG_URL="http://xorg.freedesktop.org/archive/individual/proto/$PKG_NAME-$PKG_VERSION.tar.bz2"
-PKG_DEPENDS_TARGET="toolchain util-macros"
-PKG_SECTION="x11/proto"
-PKG_SHORTDESC="xcmiscproto: XCMisc extension headers"
-PKG_LONGDESC="XCMisc extension headers"
-
-# package specific configure options
-PKG_CONFIGURE_OPTS_TARGET="--without-xmlto"
diff --git a/packages/x11/proto/xextproto/package.mk b/packages/x11/proto/xextproto/package.mk
deleted file mode 100644
index c1e04e4fe1c..00000000000
--- a/packages/x11/proto/xextproto/package.mk
+++ /dev/null
@@ -1,32 +0,0 @@
-################################################################################
-#      This file is part of OpenELEC - http://www.openelec.tv
-#      Copyright (C) 2009-2016 Stephan Raue (stephan@openelec.tv)
-#
-#  OpenELEC is free software: you can redistribute it and/or modify
-#  it under the terms of the GNU General Public License as published by
-#  the Free Software Foundation, either version 2 of the License, or
-#  (at your option) any later version.
-#
-#  OpenELEC is distributed in the hope that it will be useful,
-#  but WITHOUT ANY WARRANTY; without even the implied warranty of
-#  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
-#  GNU General Public License for more details.
-#
-#  You should have received a copy of the GNU General Public License
-#  along with OpenELEC.  If not, see <http://www.gnu.org/licenses/>.
-################################################################################
-
-PKG_NAME="xextproto"
-PKG_VERSION="7.3.0"
-PKG_SHA256="f3f4b23ac8db9c3a9e0d8edb591713f3d70ef9c3b175970dd8823dfc92aa5bb0"
-PKG_ARCH="any"
-PKG_LICENSE="OSS"
-PKG_SITE="http://www.x.org/"
-PKG_URL="http://xorg.freedesktop.org/archive/individual/proto/$PKG_NAME-$PKG_VERSION.tar.bz2"
-PKG_DEPENDS_TARGET="toolchain util-macros"
-PKG_SECTION="x11/proto"
-PKG_SHORTDESC="xextproto: KB extension headers"
-PKG_LONGDESC="Xext extension headers"
-
-# package specific configure options
-PKG_CONFIGURE_OPTS_TARGET="--without-xmlto"
diff --git a/packages/x11/proto/xf86dgaproto/package.mk b/packages/x11/proto/xf86dgaproto/package.mk
deleted file mode 100644
index 8023c083944..00000000000
--- a/packages/x11/proto/xf86dgaproto/package.mk
+++ /dev/null
@@ -1,32 +0,0 @@
-################################################################################
-#      This file is part of OpenELEC - http://www.openelec.tv
-#      Copyright (C) 2009-2016 Stephan Raue (stephan@openelec.tv)
-#
-#  OpenELEC is free software: you can redistribute it and/or modify
-#  it under the terms of the GNU General Public License as published by
-#  the Free Software Foundation, either version 2 of the License, or
-#  (at your option) any later version.
-#
-#  OpenELEC is distributed in the hope that it will be useful,
-#  but WITHOUT ANY WARRANTY; without even the implied warranty of
-#  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
-#  GNU General Public License for more details.
-#
-#  You should have received a copy of the GNU General Public License
-#  along with OpenELEC.  If not, see <http://www.gnu.org/licenses/>.
-################################################################################
-
-PKG_NAME="xf86dgaproto"
-PKG_VERSION="2.1"
-PKG_SHA256="ac5ef65108e1f2146286e53080975683dae49fc94680042e04bd1e2010e99050"
-PKG_ARCH="any"
-PKG_LICENSE="OSS"
-PKG_SITE="http://www.X.org"
-PKG_URL="http://xorg.freedesktop.org/archive/individual/proto/$PKG_NAME-$PKG_VERSION.tar.bz2"
-PKG_DEPENDS_TARGET="toolchain util-macros"
-PKG_SECTION="x11/proto"
-PKG_SHORTDESC="xf86dgaproto: XF86DGA extension headers"
-PKG_LONGDESC="XF86DGA extension headers"
-
-# package specific configure options
-PKG_CONFIGURE_OPTS_TARGET="--without-xmlto"
diff --git a/packages/x11/proto/xf86driproto/package.mk b/packages/x11/proto/xf86driproto/package.mk
deleted file mode 100644
index 31af2aa0f9b..00000000000
--- a/packages/x11/proto/xf86driproto/package.mk
+++ /dev/null
@@ -1,32 +0,0 @@
-################################################################################
-#      This file is part of OpenELEC - http://www.openelec.tv
-#      Copyright (C) 2009-2016 Stephan Raue (stephan@openelec.tv)
-#
-#  OpenELEC is free software: you can redistribute it and/or modify
-#  it under the terms of the GNU General Public License as published by
-#  the Free Software Foundation, either version 2 of the License, or
-#  (at your option) any later version.
-#
-#  OpenELEC is distributed in the hope that it will be useful,
-#  but WITHOUT ANY WARRANTY; without even the implied warranty of
-#  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
-#  GNU General Public License for more details.
-#
-#  You should have received a copy of the GNU General Public License
-#  along with OpenELEC.  If not, see <http://www.gnu.org/licenses/>.
-################################################################################
-
-PKG_NAME="xf86driproto"
-PKG_VERSION="2.1.1"
-PKG_SHA256="9c4b8d7221cb6dc4309269ccc008a22753698ae9245a398a59df35f1404d661f"
-PKG_ARCH="any"
-PKG_LICENSE="OSS"
-PKG_SITE="http://www.X.org"
-PKG_URL="http://xorg.freedesktop.org/archive/individual/proto/$PKG_NAME-$PKG_VERSION.tar.bz2"
-PKG_DEPENDS_TARGET="toolchain util-macros"
-PKG_SECTION="x11/proto"
-PKG_SHORTDESC="xf86driproto: XF86DRI extension headers"
-PKG_LONGDESC="XF86DRI extension headers"
-
-# package specific configure options
-PKG_CONFIGURE_OPTS_TARGET="--without-xmlto"
diff --git a/packages/x11/proto/xf86miscproto/package.mk b/packages/x11/proto/xf86miscproto/package.mk
deleted file mode 100644
index 48ebb666384..00000000000
--- a/packages/x11/proto/xf86miscproto/package.mk
+++ /dev/null
@@ -1,32 +0,0 @@
-################################################################################
-#      This file is part of OpenELEC - http://www.openelec.tv
-#      Copyright (C) 2009-2016 Stephan Raue (stephan@openelec.tv)
-#
-#  OpenELEC is free software: you can redistribute it and/or modify
-#  it under the terms of the GNU General Public License as published by
-#  the Free Software Foundation, either version 2 of the License, or
-#  (at your option) any later version.
-#
-#  OpenELEC is distributed in the hope that it will be useful,
-#  but WITHOUT ANY WARRANTY; without even the implied warranty of
-#  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
-#  GNU General Public License for more details.
-#
-#  You should have received a copy of the GNU General Public License
-#  along with OpenELEC.  If not, see <http://www.gnu.org/licenses/>.
-################################################################################
-
-PKG_NAME="xf86miscproto"
-PKG_VERSION="0.9.3"
-PKG_SHA256="45b8ec6a4a8ca21066dce117e09dcc88539862e616e60fb391de05b36f63b095"
-PKG_ARCH="any"
-PKG_LICENSE="OSS"
-PKG_SITE="http://www.X.org"
-PKG_URL="http://xorg.freedesktop.org/archive/individual/proto/$PKG_NAME-$PKG_VERSION.tar.bz2"
-PKG_DEPENDS_TARGET="toolchain util-macros"
-PKG_SECTION="x11/proto"
-PKG_SHORTDESC="xf86miscproto: XF86Misc extension headers"
-PKG_LONGDESC="XF86Misc extension headers"
-
-# package specific configure options
-PKG_CONFIGURE_OPTS_TARGET="--without-xmlto"
diff --git a/packages/x11/proto/xf86vidmodeproto/package.mk b/packages/x11/proto/xf86vidmodeproto/package.mk
deleted file mode 100644
index 5aedae74817..00000000000
--- a/packages/x11/proto/xf86vidmodeproto/package.mk
+++ /dev/null
@@ -1,32 +0,0 @@
-################################################################################
-#      This file is part of OpenELEC - http://www.openelec.tv
-#      Copyright (C) 2009-2016 Stephan Raue (stephan@openelec.tv)
-#
-#  OpenELEC is free software: you can redistribute it and/or modify
-#  it under the terms of the GNU General Public License as published by
-#  the Free Software Foundation, either version 2 of the License, or
-#  (at your option) any later version.
-#
-#  OpenELEC is distributed in the hope that it will be useful,
-#  but WITHOUT ANY WARRANTY; without even the implied warranty of
-#  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
-#  GNU General Public License for more details.
-#
-#  You should have received a copy of the GNU General Public License
-#  along with OpenELEC.  If not, see <http://www.gnu.org/licenses/>.
-################################################################################
-
-PKG_NAME="xf86vidmodeproto"
-PKG_VERSION="2.3.1"
-PKG_SHA256="45d9499aa7b73203fd6b3505b0259624afed5c16b941bd04fcf123e5de698770"
-PKG_ARCH="any"
-PKG_LICENSE="OSS"
-PKG_SITE="http://www.X.org"
-PKG_URL="http://xorg.freedesktop.org/archive/individual/proto/$PKG_NAME-$PKG_VERSION.tar.bz2"
-PKG_DEPENDS_TARGET="toolchain util-macros"
-PKG_SECTION="x11/proto"
-PKG_SHORTDESC="xf86vidmodeproto: XF86VidMode extension headers"
-PKG_LONGDESC="XF86VidMode extension headers"
-
-# package specific configure options
-PKG_CONFIGURE_OPTS_TARGET="--without-xmlto"
diff --git a/packages/x11/proto/xineramaproto/package.mk b/packages/x11/proto/xineramaproto/package.mk
deleted file mode 100644
index 7431a8f1c03..00000000000
--- a/packages/x11/proto/xineramaproto/package.mk
+++ /dev/null
@@ -1,32 +0,0 @@
-################################################################################
-#      This file is part of OpenELEC - http://www.openelec.tv
-#      Copyright (C) 2009-2016 Stephan Raue (stephan@openelec.tv)
-#
-#  OpenELEC is free software: you can redistribute it and/or modify
-#  it under the terms of the GNU General Public License as published by
-#  the Free Software Foundation, either version 2 of the License, or
-#  (at your option) any later version.
-#
-#  OpenELEC is distributed in the hope that it will be useful,
-#  but WITHOUT ANY WARRANTY; without even the implied warranty of
-#  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
-#  GNU General Public License for more details.
-#
-#  You should have received a copy of the GNU General Public License
-#  along with OpenELEC.  If not, see <http://www.gnu.org/licenses/>.
-################################################################################
-
-PKG_NAME="xineramaproto"
-PKG_VERSION="1.2.1"
-PKG_SHA256="977574bb3dc192ecd9c55f59f991ec1dff340be3e31392c95deff423da52485b"
-PKG_ARCH="any"
-PKG_LICENSE="OSS"
-PKG_SITE="http://www.X.org"
-PKG_URL="http://xorg.freedesktop.org/archive/individual/proto/$PKG_NAME-$PKG_VERSION.tar.bz2"
-PKG_DEPENDS_TARGET="toolchain util-macros"
-PKG_SECTION="x11/proto"
-PKG_SHORTDESC="xineramaproto: Xinerama extension headers"
-PKG_LONGDESC="Xinerama extension headers"
-
-# package specific configure options
-PKG_CONFIGURE_OPTS_TARGET="--without-xmlto"
diff --git a/packages/x11/proto/fixesproto/package.mk b/packages/x11/proto/xorgproto/package.mk
similarity index 50%
rename from packages/x11/proto/fixesproto/package.mk
rename to packages/x11/proto/xorgproto/package.mk
index 4a59692952b..cf0fecb6d39 100644
--- a/packages/x11/proto/fixesproto/package.mk
+++ b/packages/x11/proto/xorgproto/package.mk
@@ -1,32 +1,34 @@
 ################################################################################
-#      This file is part of OpenELEC - http://www.openelec.tv
-#      Copyright (C) 2009-2016 Stephan Raue (stephan@openelec.tv)
+#      This file is part of LibreELEC - https://libreelec.tv
+#      Copyright (C) 2018-present Team LibreELEC
 #
-#  OpenELEC is free software: you can redistribute it and/or modify
+#  LibreELEC is free software: you can redistribute it and/or modify
 #  it under the terms of the GNU General Public License as published by
 #  the Free Software Foundation, either version 2 of the License, or
 #  (at your option) any later version.
 #
-#  OpenELEC is distributed in the hope that it will be useful,
+#  LibreELEC is distributed in the hope that it will be useful,
 #  but WITHOUT ANY WARRANTY; without even the implied warranty of
 #  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 #  GNU General Public License for more details.
 #
 #  You should have received a copy of the GNU General Public License
-#  along with OpenELEC.  If not, see <http://www.gnu.org/licenses/>.
+#  along with LibreELEC.  If not, see <http://www.gnu.org/licenses/>.
 ################################################################################
 
-PKG_NAME="fixesproto"
-PKG_VERSION="5.0"
-PKG_SHA256="ba2f3f31246bdd3f2a0acf8bd3b09ba99cab965c7fb2c2c92b7dc72870e424ce"
+PKG_NAME="xorgproto"
+PKG_VERSION="2018.4"
+PKG_SHA256="fee885e0512899ea5280c593fdb2735beb1693ad170c22ebcc844470eec415a0"
 PKG_ARCH="any"
 PKG_LICENSE="OSS"
 PKG_SITE="http://www.X.org"
-PKG_URL="http://xorg.freedesktop.org/archive/individual/proto/$PKG_NAME-$PKG_VERSION.tar.bz2"
+PKG_URL="https://xorg.freedesktop.org/archive/individual/proto/$PKG_NAME-$PKG_VERSION.tar.bz2"
 PKG_DEPENDS_TARGET="toolchain util-macros"
 PKG_SECTION="x11/proto"
-PKG_SHORTDESC="fixesproto: Fixes extension headers"
-PKG_LONGDESC="Fixes extension headers"
+PKG_SHORTDESC="combined X.Org X11 Protocol headers"
+PKG_LONGDESC="combined X.Org X11 Protocol headers"
+
+pre_configure_target() {
+  export LC_ALL=en_US.UTF-8
+}
 
-# package specific configure options
-PKG_CONFIGURE_OPTS_TARGET="--without-xmlto"
diff --git a/packages/x11/proto/xproto/package.mk b/packages/x11/proto/xproto/package.mk
deleted file mode 100644
index 108ea6af6b8..00000000000
--- a/packages/x11/proto/xproto/package.mk
+++ /dev/null
@@ -1,34 +0,0 @@
-################################################################################
-#      This file is part of OpenELEC - http://www.openelec.tv
-#      Copyright (C) 2009-2016 Stephan Raue (stephan@openelec.tv)
-#
-#  OpenELEC is free software: you can redistribute it and/or modify
-#  it under the terms of the GNU General Public License as published by
-#  the Free Software Foundation, either version 2 of the License, or
-#  (at your option) any later version.
-#
-#  OpenELEC is distributed in the hope that it will be useful,
-#  but WITHOUT ANY WARRANTY; without even the implied warranty of
-#  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
-#  GNU General Public License for more details.
-#
-#  You should have received a copy of the GNU General Public License
-#  along with OpenELEC.  If not, see <http://www.gnu.org/licenses/>.
-################################################################################
-
-PKG_NAME="xproto"
-PKG_VERSION="7.0.31"
-PKG_SHA256="c6f9747da0bd3a95f86b17fb8dd5e717c8f3ab7f0ece3ba1b247899ec1ef7747"
-PKG_ARCH="any"
-PKG_LICENSE="OSS"
-PKG_SITE="http://www.x.org/"
-PKG_URL="http://xorg.freedesktop.org/archive/individual/proto/$PKG_NAME-$PKG_VERSION.tar.bz2"
-PKG_DEPENDS_HOST="util-macros"
-PKG_DEPENDS_TARGET="toolchain util-macros"
-PKG_SECTION="x11/proto"
-PKG_SHORTDESC="xproto: KB extension headers"
-PKG_LONGDESC="X11 extension headers"
-
-# package specific configure options
-PKG_CONFIGURE_OPTS_TARGET="--without-xmlto"
-PKG_CONFIGURE_OPTS_HOST="--without-xmlto"
diff --git a/packages/x11/xserver/xorg-server/package.mk b/packages/x11/xserver/xorg-server/package.mk
index 8d87d38f6b1..cd6cd3033de 100644
--- a/packages/x11/xserver/xorg-server/package.mk
+++ b/packages/x11/xserver/xorg-server/package.mk
@@ -23,7 +23,7 @@ PKG_ARCH="any"
 PKG_LICENSE="OSS"
 PKG_SITE="http://www.X.org"
 PKG_URL="http://xorg.freedesktop.org/archive/individual/xserver/$PKG_NAME-$PKG_VERSION.tar.bz2"
-PKG_DEPENDS_TARGET="toolchain util-macros font-util fontsproto randrproto recordproto renderproto dri2proto dri3proto fixesproto damageproto videoproto inputproto xf86dgaproto xf86vidmodeproto xf86driproto xf86miscproto presentproto libpciaccess libX11 libXfont2 libXinerama libxshmfence libxkbfile libdrm openssl freetype pixman fontsproto systemd xorg-launch-helper"
+PKG_DEPENDS_TARGET="toolchain util-macros font-util xorgproto libpciaccess libX11 libXfont2 libXinerama libxshmfence libxkbfile libdrm openssl freetype pixman systemd xorg-launch-helper"
 PKG_NEED_UNPACK="$(get_pkg_directory xf86-video-nvidia) $(get_pkg_directory xf86-video-nvidia-legacy)"
 PKG_SECTION="x11/xserver"
 PKG_SHORTDESC="xorg-server: The Xorg X server"
@@ -40,7 +40,7 @@ else
 fi
 
 if [ ! "$OPENGL" = "no" ]; then
-  PKG_DEPENDS_TARGET="$PKG_DEPENDS_TARGET glproto $OPENGL libepoxy"
+  PKG_DEPENDS_TARGET="$PKG_DEPENDS_TARGET $OPENGL libepoxy"
   XORG_MESA="--enable-glx --enable-dri --enable-glamor"
 else
   XORG_MESA="--disable-glx --disable-dri --disable-glamor"

Nico Schottelius <nicos-mutt@pcsystems.de> wrote:
>> /home/prj/b/gpm-1.20.0/src/mice.c:2125: warning: initialization from incompatible pointer type
>
> This is okay. Although I don't know why signed/unsigned are switched...

It looks like it's because it's checking the sign of one of the
characters.  But this could also be done by treating the character as
unsigned and comparing it (in the opposite way) to 127 (or SCHAR_MAX,
if you #include <limits.h>).

static int M_imps2(Gpm_Event *state, unsigned char *data)
{
   int ret = M_ps2(state, data);
   state->buttons |= (data[3]>127) * GPM_B_UP + (data[3]<127) * GPM_B_DOWN;

   return ret;
}


paul


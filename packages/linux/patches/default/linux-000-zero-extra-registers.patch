diff -Naur linux-5.0.11-lqx1-orig/arch/x86/Makefile linux-5.0.11-lqx1/arch/x86/Makefile
--- linux-5.0.11-lqx1-orig/arch/x86/Makefile	2019-05-03 21:07:58.139956398 +0300
+++ linux-5.0.11-lqx1/arch/x86/Makefile	2019-05-02 20:35:34.000000000 +0300
@@ -249,7 +249,7 @@
 
 # Avoid indirect branches in kernel to deal with Spectre
 ifdef CONFIG_RETPOLINE
-  KBUILD_CFLAGS += $(RETPOLINE_CFLAGS)
+  KBUILD_CFLAGS += $(RETPOLINE_CFLAGS)  -mzero-caller-saved-regs=used
   # Additionally, avoid generating expensive indirect jumps which
   # are subject to retpolines for small number of switch cases.
   # clang turns off jump table generation by default when under

diff --git a/build/config/compiler/BUILD.gn b/build/config/compiler/BUILD.gn
old mode 100644
new mode 100755
index a894a3997d..8ac4fe9eb4
--- a/build/config/compiler/BUILD.gn
+++ b/build/config/compiler/BUILD.gn
@@ -640,9 +640,12 @@ config("compiler_cpu_abi") {
     if (current_cpu == "x64") {
       cflags += [
         "-m64",
-        "-march=x86-64",
+        "-march=westmere",
+        "-mtune=westmere",
+        "-fdiagnostics-color=always",
+        "-fno-delete-null-pointer-checks",
       ]
-      ldflags += [ "-m64" ]
+      ldflags += [ "-m64 -Wl,-O1,--sort-common,--as-needed,-z,relro,-z,now -s" ]
     } else if (current_cpu == "x86") {
       cflags += [ "-m32" ]
       ldflags += [ "-m32" ]
@@ -1261,7 +1264,7 @@ config("default_warnings") {
 
       # -Wunused-local-typedefs is broken in gcc,
       # https://gcc.gnu.org/bugzilla/show_bug.cgi?id=63872
-      cflags += [ "-Wno-unused-local-typedefs" ]
+      # cflags += [ "-Wno-unused-local-typedefs" ]
 
       # Don't warn about "maybe" uninitialized. Clang doesn't include this
       # in -Wall but gcc does, and it gives false positives.

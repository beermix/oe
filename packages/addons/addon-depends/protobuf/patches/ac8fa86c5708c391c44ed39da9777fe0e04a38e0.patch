From ac8fa86c5708c391c44ed39da9777fe0e04a38e0 Mon Sep 17 00:00:00 2001
From: Adnan <udnaan@users.noreply.github.com>
Date: Wed, 1 Feb 2017 16:12:09 -0800
Subject: [PATCH] Fixes cmake build failure for js_embed step

---
 cmake/libprotoc.cmake | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

diff --git a/cmake/libprotoc.cmake b/cmake/libprotoc.cmake
index 215abcd866..d7417be888 100644
--- a/cmake/libprotoc.cmake
+++ b/cmake/libprotoc.cmake
@@ -103,7 +103,7 @@ add_executable(js_embed ${protobuf_source_dir}/src/google/protobuf/compiler/js/e
 add_custom_command(
   OUTPUT ${protobuf_source_dir}/src/google/protobuf/compiler/js/well_known_types_embed.cc
   DEPENDS js_embed ${js_well_known_types_sources}
-  COMMAND js_embed ${js_well_known_types_sources} > ${protobuf_source_dir}/src/google/protobuf/compiler/js/well_known_types_embed.cc
+  COMMAND ${CMAKE_CURRENT_BINARY_DIR}/js_embed ${js_well_known_types_sources} > ${protobuf_source_dir}/src/google/protobuf/compiler/js/well_known_types_embed.cc
 )
 
 add_library(libprotoc ${protobuf_SHARED_OR_STATIC}

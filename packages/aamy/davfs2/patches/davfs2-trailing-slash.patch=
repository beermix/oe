Description: work with trailing slash in /etc/fstab
Bug-Debian: http://bugs.debian.org/580227
--- davfs2-1.4.6.orig/src/mount_davfs.c
+++ davfs2-1.4.6/src/mount_davfs.c
@@ -679,10 +679,17 @@ check_fstab(const dav_args *args)
 {
     dav_args *n_args = new_args();
     n_args->mopts = DAV_USER_MOPTS;
-
     setfsent();
     struct fstab *ft = getfsfile(mpoint);
-    if (!ft || !ft->fs_spec)
+ 
+    if (!ft) {
+        char *mp = NULL;
+        if (asprintf(&mp, "%s/", mpoint) < 0) abort();
+        ft = getfsfile(mp);
+        if (mp) free(mp);
+    }
+
+   if (!ft || !ft->fs_spec)
         error(EXIT_FAILURE, 0, _("no entry for %s found in %s"), url,
               _PATH_FSTAB);
 

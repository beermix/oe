diff --git a/configure b/configure
index d5d28d6..0bd1fc1 100755
--- a/configure
+++ b/configure
@@ -3788,7 +3788,7 @@ icl_flags(){
             # on Windows, does enable remarks so disable them here.
             -Wall)                echo $flag -Qdiag-disable:remark ;;
             -std=c99)             echo -Qstd=c99 ;;
-            -flto)                echo -ipo ;;
+            -flto=4)                echo -ipo ;;
         esac
     done
 }
@@ -3796,7 +3796,7 @@ icl_flags(){
 icc_flags(){
     for flag; do
         case $flag in
-            -flto)                echo -ipo ;;
+            -flto=4)                echo -ipo ;;
             *)                    echo $flag ;;
         esac
     done
@@ -3805,7 +3805,7 @@ icc_flags(){
 pgi_flags(){
     for flag; do
         case $flag in
-            -flto)                echo -Mipa=fast,libopt,libinline,vestigial ;;
+            -flto=4)                echo -Mipa=fast,libopt,libinline,vestigial ;;
             -fomit-frame-pointer) echo -Mnoframe ;;
             -g)                   echo -gopt ;;
             *)                    echo $flag ;;
@@ -6155,8 +6155,8 @@ check_optflags(){
 
 if enabled lto; then
     test "$cc_type" != "$ld_type" && die "LTO requires same compiler and linker"
-    check_cflags  -flto
-    check_ldflags -flto $cpuflags
+    check_cflags  -flto=4
+    check_ldflags -flto=4 $cpuflags
     disable inline_asm_direct_symbol_refs
 fi
 
